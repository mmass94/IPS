{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apollo\\\\islamicpsychologyapi\\\\islamicpsychology\\\\src\\\\DashboardComponents\\\\fetchposts.js\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Videos from \"../Pages/Videos\";\nimport Pagenation from \"./DashboardComponents/Pagenation\";\nimport axios from \"axios\";\nimport { laodUser } from \"./actions/auth\";\n\nconst fetchposts = () => {\n  const [posts, setposts] = useState([]);\n  const [loading, setLoading] = useState([false]);\n  const [CurrentPage, SetCurrentPage] = useState(1);\n  const [postsPerPage] = useState(9);\n  useEffect(() => {\n    store.dispatch(laodUser());\n\n    const fetchPosts = async () => {\n      setLoading(true);\n      const res = await axios.get(\"http://localhost:5000/api/videos\");\n      setposts(res.data);\n      setLoading(false);\n    };\n\n    fetchPosts();\n  }, []); //get Current Posts\n\n  const indexOfLastVideo = CurrentPage * postsPerPage;\n  const indexOfFirstVideo = indexOfLastVideo - postsPerPage;\n  const currentPosts = posts.slice(indexOfFirstVideo, indexOfLastVideo); //change Page \n\n  const paginate = pageNumber => {\n    SetCurrentPage(pageNumber);\n  };\n\n  return /*#__PURE__*/React.createElement(Videos, {\n    posts: currentPosts,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 1\n    }\n  });\n\n  /*#__PURE__*/\n  React.createElement(Pagenation, {\n    postsPerPage: postsPerPage,\n    totalPosts: posts.length,\n    paginate: paginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 1\n    }\n  });\n};\n\nexport default fetchposts;","map":{"version":3,"sources":["C:/Users/apollo/islamicpsychologyapi/islamicpsychology/src/DashboardComponents/fetchposts.js"],"names":["React","Fragment","useEffect","useState","Videos","Pagenation","axios","laodUser","fetchposts","posts","setposts","loading","setLoading","CurrentPage","SetCurrentPage","postsPerPage","store","dispatch","fetchPosts","res","get","data","indexOfLastVideo","indexOfFirstVideo","currentPosts","slice","paginate","pageNumber","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,QAArC,QAAqD,OAArD;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB;;AAGA,MAAMC,UAAU,GAAG,MAAM;AACrB,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAiBP,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAM,CAACQ,OAAD,EAASC,UAAT,IAAqBT,QAAQ,CAAC,CAAC,KAAD,CAAD,CAAnC;AACA,QAAM,CAACU,WAAD,EAAaC,cAAb,IAA6BX,QAAQ,CAAC,CAAD,CAA3C;AACA,QAAM,CAACY,YAAD,IAAeZ,QAAQ,CAAC,CAAD,CAA7B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,KAAK,CAACC,QAAN,CAAeV,QAAQ,EAAvB;;AAEJ,UAAMW,UAAU,GAAC,YAAS;AAC1BN,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMO,GAAG,GAAC,MAAMb,KAAK,CACpBc,GADe,CACX,kCADW,CAAhB;AAEAV,MAAAA,QAAQ,CAACS,GAAG,CAACE,IAAL,CAAR;AACAT,MAAAA,UAAU,CAAC,KAAD,CAAV;AACK,KANL;;AAOIM,IAAAA,UAAU;AACb,GAXU,EAWR,EAXQ,CAAT,CANqB,CAmBzB;;AACA,QAAMI,gBAAgB,GAACT,WAAW,GAACE,YAAnC;AACA,QAAMQ,iBAAiB,GAACD,gBAAgB,GAACP,YAAzC;AACA,QAAMS,YAAY,GAACf,KAAK,CAACgB,KAAN,CAAYF,iBAAZ,EAA8BD,gBAA9B,CAAnB,CAtByB,CAwBzB;;AAEA,QAAMI,QAAQ,GAAEC,UAAD,IAAc;AAC3Bb,IAAAA,cAAc,CAACa,UAAD,CAAd;AACD,GAFD;;AAGA,sBACA,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEH,YAAf;AAA6B,IAAA,OAAO,EAAEb,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA;;AAIA;AAAA,sBAAC,UAAD;AAAY,IAAA,YAAY,EAAEI,YAA1B;AAAwC,IAAA,UAAU,EAAEN,KAAK,CAACmB,MAA1D;AAAkE,IAAA,QAAQ,EAAEF,QAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEC,CAnCD;;AAoCA,eAAelB,UAAf","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport Videos from \"../Pages/Videos\";\r\nimport Pagenation from \"./DashboardComponents/Pagenation\"\r\nimport axios from \"axios\";\r\nimport { laodUser } from \"./actions/auth\";\r\n\r\n\r\nconst fetchposts = () => {\r\n    const [posts,setposts]=useState([]);\r\n    const [loading,setLoading]=useState([false]);\r\n    const [CurrentPage,SetCurrentPage]=useState(1);\r\n    const [postsPerPage]=useState(9);\r\n  \r\n    useEffect(() => {\r\n      store.dispatch(laodUser());\r\n  \r\n  const fetchPosts=async()=>{\r\n  setLoading(true);\r\n  const res=await axios\r\n  .get(\"http://localhost:5000/api/videos\")\r\n  setposts(res.data);\r\n  setLoading(false);\r\n      }\r\n      fetchPosts();\r\n  }, []);\r\n\r\n//get Current Posts\r\nconst indexOfLastVideo=CurrentPage*postsPerPage;\r\nconst indexOfFirstVideo=indexOfLastVideo-postsPerPage;\r\nconst currentPosts=posts.slice(indexOfFirstVideo,indexOfLastVideo);\r\n\r\n//change Page \r\n\r\nconst paginate=(pageNumber)=>{\r\n  SetCurrentPage(pageNumber)\r\n}\r\nreturn (\r\n<Videos posts={currentPosts} loading={loading} />\r\n\r\n);\r\n<Pagenation postsPerPage={postsPerPage} totalPosts={posts.length} paginate={paginate}/>\r\n\r\n}\r\nexport default fetchposts;\r\n "]},"metadata":{},"sourceType":"module"}