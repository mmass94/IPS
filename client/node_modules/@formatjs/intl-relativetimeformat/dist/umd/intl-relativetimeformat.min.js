!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).IntlRelativeTimeFormat={})}(this,function(e){"use strict";function w(e,t,r){if(void 0===r&&(r=Error),!e)throw new r(t)}function s(e){if(null==e)throw new TypeError("undefined/null cannot be converted to object");return Object(e)}function f(e,t,r,n,o){var a=e[t];if(void 0===a)return o;if("boolean"!==r&&"string"!==r)throw new TypeError("invalid type");if("boolean"===r&&(a=Boolean(a)),"string"===r&&(a=function(e){if("symbol"==typeof e)throw TypeError("Cannot convert a Symbol value to a string");return String(e)}(a)),void 0!==n&&!n.filter(function(e){return e==a}).length)throw new RangeError(a+" is not within "+n.join(", "));return a}function d(e,t,r,n){e.get(t)||e.set(t,Object.create(null)),e.get(t)[r]=n}function p(e,t,r){return function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=e.get(t);if(o)return r.reduce(function(e,t){return e[t]=o[t],e},Object.create(null));throw new TypeError(t+" InternalSlot has not been initialized")}(e,t,r)[r]}["angle-degree","area-acre","area-hectare","concentr-percent","digital-bit","digital-byte","digital-gigabit","digital-gigabyte","digital-kilobit","digital-kilobyte","digital-megabit","digital-megabyte","digital-petabyte","digital-terabit","digital-terabyte","duration-day","duration-hour","duration-millisecond","duration-minute","duration-month","duration-second","duration-week","duration-year","length-centimeter","length-foot","length-inch","length-kilometer","length-meter","length-mile-scandinavian","length-mile","length-millimeter","length-yard","mass-gram","mass-kilogram","mass-ounce","mass-pound","mass-stone","temperature-celsius","temperature-fahrenheit","volume-fluid-ounce","volume-gallon","volume-liter","volume-milliliter"].map(function(e){return e.replace(/^(.*?)-/,"")});var n,t=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function _(e){var u,c,g=function(e,t){for(var r={locale:""},n=0,o=t;n<o.length;n++){var a=o[n],i=a.replace(y,""),l=h(e,i);if(l)return r.locale=l,a!==i&&(r.extension=a.slice(i.length+1,a.length)),r}return r.locale=u(),r},b=(c=u=e,function(e,t){for(var r={locale:""},n=0,o=t;n<o.length;n++){var a=o[n],i=a.replace(y,""),l=h(e,i);if(l)return r.locale=l,a!==i&&(r.extension=a.slice(i.length+1,a.length)),r}return r.locale=c(),r});return function(e,t,r,n,o){for(var a,i=("lookup"===r.localeMatcher?g:b)(e,t),l=i.locale,u={locale:"",dataLocale:l},c="-u",s=0,f=n;s<f.length;s++){var d=f[s],_=o[l];w("object"==typeof _&&null!==_,"locale data "+d+" must be an object");var y=_[d];w(Array.isArray(y),"keyLocaleData for "+d+" must be an array");var h=y[0];w("string"==typeof h||null===h,"value must be string or null but got "+typeof h+" in key "+d);var p,v,m="";!i.extension||void 0!==(p=T(i.extension,d))&&(""!==p?~y.indexOf(p)&&(m="-"+d+"-"+(h=p)):~p.indexOf("true")&&(h="true",m="-"+d)),d in r&&(w("string"==typeof(v=r[d])||null==v,"optionsValue must be String, Undefined or Null"),~y.indexOf(v)&&v!==h&&(h=v,m="")),u[d]=h,c+=m}return 2<c.length&&(-1===(a=l.indexOf("-x-"))?l+=c:l=l.slice(0,a)+c+l.slice(a,l.length),l=Intl.getCanonicalLocales(l)[0]),u.locale=l,u}}function T(e,t){w(2===t.length,"key must have 2 elements");var r=e.length,n="-"+t+"-",o=e.indexOf(n);if(-1!==o){for(var a=o+4,i=a,l=a,u=!1;!u;){var c=e.indexOf("-",l);2===(-1===c?r-l:c-l)?u=!0:-1===c?(i=r,u=!0):l=(i=c)+1}return e.slice(a,i)}if(n="-"+t,-1!==(o=e.indexOf(n))&&o+3===r)return""}var y=/-u(?:-[0-9a-z]{2,8})+/gi;function h(e,t){for(var r=t;;){if(~e.indexOf(r))return r;var n=r.lastIndexOf("-");if(!~n)return;2<=n&&"-"===r[n-2]&&(n-=2),r=r.slice(0,n)}}function i(e,t){for(var r=[],n=0,o=t;n<o.length;n++){var a=h(e,o[n].replace(y,""));a&&r.push(a)}return r}var r,l=(r=Error,t(o,r),o);function o(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="MISSING_LOCALE_DATA",e}function u(e,t,r){void 0===r&&(r=function(e,t){return a(a({},e),t)});var n=function(e){for(var t=[e],r=e.split("-"),n=r.length;1<n;n--)t.push(r.slice(0,n-1).join("-"));return t}(e),o=n.map(function(e){return t.data[e]}).filter(Boolean);if(!o.length)throw new l('Missing locale data for "'+e+'", lookup hierarchy: '+n.join(", "));return o.reverse(),o.reduce(r,{})}var v=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var m=/^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;function g(e,t,r){var n,o,a,i,l=function(e){for(var t=[],r=e.indexOf("{"),n=0,o=0,a=e.length;r<e.length&&-1<r;)w(r<(n=e.indexOf("}",r)),"Invalid pattern "+e),o<r&&t.push({type:"literal",value:e.substring(o,r)}),t.push({type:e.substring(r+1,n),value:void 0}),o=n+1,r=e.indexOf("{",o);return o<a&&t.push({type:"literal",value:e.substring(o,a)}),t}(e),u=[];try{for(var c=v(l),s=c.next();!s.done;s=c.next()){var f=s.value;if("literal"===f.type)u.push({type:"literal",value:f.value});else{w("0"===f.type,"Malformed pattern "+e);try{for(var d=(a=void 0,v(r)),_=d.next();!_.done;_=d.next()){var y=_.value;u.push({type:y.type,value:y.value,unit:t})}}catch(e){a={error:e}}finally{try{_&&!_.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return u}function b(e){return e+""}function c(e,t,r,n){if(w("number"==typeof r,"value must be number, instead got "+typeof r,TypeError),w("string"==typeof n,"unit must be number, instead got "+typeof r,TypeError),isNaN(r)||r===1/0||r===-1/0)throw new RangeError("Invalid value "+r);var o=function(e){if(w("string"==typeof e,"unit must be a string, instead got "+typeof e,TypeError),"seconds"===e)return"second";if("minutes"===e)return"minute";if("hours"===e)return"hour";if("days"===e)return"day";if("weeks"===e)return"week";if("months"===e)return"month";if("quarters"===e)return"quarter";if("years"===e)return"year";if("second"!==e&&"minute"!==e&&"hour"!==e&&"day"!==e&&"week"!==e&&"month"!==e&&"quarter"!==e&&"year"!==e)throw new RangeError("Invalid unit "+e);return e}(n),a=p(e,t,"fields"),i=p(e,t,"style"),l=o;"short"===i?l=n+"-short":"narrow"===i&&(l=n+"-narrow"),l in a||(l=n);var u=a[l];if("auto"===p(e,t,"numeric")&&b(r)in u)return[{type:"literal",value:u[b(r)]}];var c,s,f="future";c=r,s=-0,((Object.is?Object.is(c,s):c===s?0!==c||1/c==1/s:c!=c&&s!=s)||r<0)&&(f="past");var d=u[f],_=p(e,t,"pluralRules"),y=p(e,t,"numberFormat"),h="function"==typeof y.formatToParts?y.formatToParts(Math.abs(r)):[{type:"literal",value:y.format(Math.abs(r)),unit:n}];return g(d[_.select(r)],o,h)}var L=(O.prototype.format=function(e,t){if("object"!=typeof this)throw new TypeError("format was called on a non-object");if(!p(O.__INTERNAL_SLOT_MAP__,this,"initializedRelativeTimeFormat"))throw new TypeError("format was called on a invalid context");return c(O.__INTERNAL_SLOT_MAP__,this,Number(e),b(t)).map(function(e){return e.value}).join("")},O.prototype.formatToParts=function(e,t){if("object"!=typeof this)throw new TypeError("formatToParts was called on a non-object");if(!p(O.__INTERNAL_SLOT_MAP__,this,"initializedRelativeTimeFormat"))throw new TypeError("formatToParts was called on a invalid context");return c(O.__INTERNAL_SLOT_MAP__,this,Number(e),b(t))},O.prototype.resolvedOptions=function(){if("object"!=typeof this)throw new TypeError("resolvedOptions was called on a non-object");if(!p(O.__INTERNAL_SLOT_MAP__,this,"initializedRelativeTimeFormat"))throw new TypeError("resolvedOptions was called on a invalid context");return{locale:p(O.__INTERNAL_SLOT_MAP__,this,"locale"),style:p(O.__INTERNAL_SLOT_MAP__,this,"style"),numeric:p(O.__INTERNAL_SLOT_MAP__,this,"numeric"),numberingSystem:p(O.__INTERNAL_SLOT_MAP__,this,"numberingSystem")}},O.supportedLocalesOf=function(e,t){return r=O.availableLocales,n=Intl.getCanonicalLocales(e),void 0!==(o=t)&&f(o=s(o),"localeMatcher","string",["lookup","best fit"],"best fit"),i(r,n);var r,n,o},O.__addLocaleData=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];function o(t){t.availableLocales.forEach(function(e){try{O.localeData[e]=u(e,t)}catch(e){if(function(e){return"MISSING_LOCALE_DATA"===e.type}(e))return;throw e}})}try{for(var a=v(r),i=a.next();!i.done;i=a.next())o(i.value)}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}O.availableLocales=Object.keys(O.localeData),O.__defaultLocale||(O.__defaultLocale=O.availableLocales[0])},O.getDefaultLocale=function(){return O.__defaultLocale},O.localeData={},O.availableLocales=[],O.__defaultLocale="en",O.relevantExtensionKeys=["nu"],O.polyfilled=!0,O.__INTERNAL_SLOT_MAP__=new WeakMap,O);function O(e,t){if(!(this&&this instanceof O?this.constructor:void 0))throw new TypeError("Intl.RelativeTimeFormat must be called with 'new'");d(O.__INTERNAL_SLOT_MAP__,this,"initializedRelativeTimeFormat",!0);var r=Intl.getCanonicalLocales(e),n=Object.create(null),o=void 0===t?Object.create(null):s(t),a=f(o,"localeMatcher","string",["best fit","lookup"],"best fit");n.localeMatcher=a;var i=f(o,"numberingSystem","string",void 0,void 0);if(void 0!==i&&!m.test(i))throw new RangeError("Invalid numbering system "+i);n.nu=i;var l=_(O.getDefaultLocale)(O.availableLocales,r,n,O.relevantExtensionKeys,O.localeData),u=l.locale,c=l.nu;d(O.__INTERNAL_SLOT_MAP__,this,"locale",u),d(O.__INTERNAL_SLOT_MAP__,this,"style",f(o,"style","string",["long","narrow","short"],"long")),d(O.__INTERNAL_SLOT_MAP__,this,"numeric",f(o,"numeric","string",["always","auto"],"always")),d(O.__INTERNAL_SLOT_MAP__,this,"fields",O.localeData[u]),d(O.__INTERNAL_SLOT_MAP__,this,"numberFormat",new Intl.NumberFormat(e)),d(O.__INTERNAL_SLOT_MAP__,this,"pluralRules",new Intl.PluralRules(e)),d(O.__INTERNAL_SLOT_MAP__,this,"numberingSystem",c)}try{"undefined"!=typeof Symbol&&Object.defineProperty(L.prototype,Symbol.toStringTag,{value:"Intl.RelativeTimeFormat",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype.constructor,"length",{value:0,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(L.supportedLocalesOf,"length",{value:1,writable:!1,enumerable:!1,configurable:!0})}catch(e){}e.default=L,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=intl-relativetimeformat.min.js.map
