{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apollo\\\\islamicpsychologyapi\\\\islamicpsychology\\\\src\\\\DashboardComponents\\\\fetchposts.js\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Videos from \"../Pages/Videos\";\nimport Pagenation from \"./DashboardComponents/Pagenation\";\n\nconst fetchposts = () => {\n  const [posts, setposts] = useState([]);\n  const [loading, setLoading] = useState([false]);\n  const [CurrentPage, SetCurrentPage] = useState(1);\n  const [postsPerPage] = useState(9);\n  useEffect(() => {\n    store.dispatch(laodUser());\n\n    const fetchPosts = async () => {\n      setLoading(true);\n      const res = await axios.get(\"http://localhost:5000/api/videos\");\n      setposts(res.data);\n      setLoading(false);\n    };\n\n    fetchPosts();\n  }, []); //get Current Posts\n\n  const indexOfLastVideo = CurrentPage * postsPerPage;\n  const indexOfFirstVideo = indexOfLastVideo - postsPerPage;\n  const currentPosts = posts.slice(indexOfFirstVideo, indexOfLastVideo); //change Page \n\n  const paginate = pageNumber => {\n    SetCurrentPage(pageNumber);\n  };\n\n  return /*#__PURE__*/React.createElement(Videos, {\n    posts: currentPosts,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 1\n    }\n  });\n\n  /*#__PURE__*/\n  React.createElement(Pagenation, {\n    postsPerPage: postsPerPage,\n    totalPosts: posts.length,\n    paginate: paginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 1\n    }\n  });\n};\n\nexport default fetchposts;","map":{"version":3,"sources":["C:/Users/apollo/islamicpsychologyapi/islamicpsychology/src/DashboardComponents/fetchposts.js"],"names":["React","Fragment","useEffect","useState","Videos","Pagenation","fetchposts","posts","setposts","loading","setLoading","CurrentPage","SetCurrentPage","postsPerPage","store","dispatch","laodUser","fetchPosts","res","axios","get","data","indexOfLastVideo","indexOfFirstVideo","currentPosts","slice","paginate","pageNumber","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,QAArC,QAAqD,OAArD;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;;AAGA,MAAMC,UAAU,GAAG,MAAM;AACrB,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAiBL,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAM,CAACM,OAAD,EAASC,UAAT,IAAqBP,QAAQ,CAAC,CAAC,KAAD,CAAD,CAAnC;AACA,QAAM,CAACQ,WAAD,EAAaC,cAAb,IAA6BT,QAAQ,CAAC,CAAD,CAA3C;AACA,QAAM,CAACU,YAAD,IAAeV,QAAQ,CAAC,CAAD,CAA7B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,KAAK,CAACC,QAAN,CAAeC,QAAQ,EAAvB;;AAEJ,UAAMC,UAAU,GAAC,YAAS;AAC1BP,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMQ,GAAG,GAAC,MAAMC,KAAK,CACpBC,GADe,CACX,kCADW,CAAhB;AAEAZ,MAAAA,QAAQ,CAACU,GAAG,CAACG,IAAL,CAAR;AACAX,MAAAA,UAAU,CAAC,KAAD,CAAV;AACK,KANL;;AAOIO,IAAAA,UAAU;AACb,GAXU,EAWR,EAXQ,CAAT,CANqB,CAmBzB;;AACA,QAAMK,gBAAgB,GAACX,WAAW,GAACE,YAAnC;AACA,QAAMU,iBAAiB,GAACD,gBAAgB,GAACT,YAAzC;AACA,QAAMW,YAAY,GAACjB,KAAK,CAACkB,KAAN,CAAYF,iBAAZ,EAA8BD,gBAA9B,CAAnB,CAtByB,CAwBzB;;AAEA,QAAMI,QAAQ,GAAEC,UAAD,IAAc;AAC3Bf,IAAAA,cAAc,CAACe,UAAD,CAAd;AACD,GAFD;;AAGA,sBACA,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEH,YAAf;AAA6B,IAAA,OAAO,EAAEf,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA;;AAIA;AAAA,sBAAC,UAAD;AAAY,IAAA,YAAY,EAAEI,YAA1B;AAAwC,IAAA,UAAU,EAAEN,KAAK,CAACqB,MAA1D;AAAkE,IAAA,QAAQ,EAAEF,QAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEC,CAnCD;;AAoCA,eAAepB,UAAf","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport Videos from \"../Pages/Videos\";\r\nimport Pagenation from \"./DashboardComponents/Pagenation\"\r\n\r\n\r\nconst fetchposts = () => {\r\n    const [posts,setposts]=useState([]);\r\n    const [loading,setLoading]=useState([false]);\r\n    const [CurrentPage,SetCurrentPage]=useState(1);\r\n    const [postsPerPage]=useState(9);\r\n  \r\n    useEffect(() => {\r\n      store.dispatch(laodUser());\r\n  \r\n  const fetchPosts=async()=>{\r\n  setLoading(true);\r\n  const res=await axios\r\n  .get(\"http://localhost:5000/api/videos\")\r\n  setposts(res.data);\r\n  setLoading(false);\r\n      }\r\n      fetchPosts();\r\n  }, []);\r\n\r\n//get Current Posts\r\nconst indexOfLastVideo=CurrentPage*postsPerPage;\r\nconst indexOfFirstVideo=indexOfLastVideo-postsPerPage;\r\nconst currentPosts=posts.slice(indexOfFirstVideo,indexOfLastVideo);\r\n\r\n//change Page \r\n\r\nconst paginate=(pageNumber)=>{\r\n  SetCurrentPage(pageNumber)\r\n}\r\nreturn (\r\n<Videos posts={currentPosts} loading={loading} />\r\n\r\n);\r\n<Pagenation postsPerPage={postsPerPage} totalPosts={posts.length} paginate={paginate}/>\r\n\r\n}\r\nexport default fetchposts;\r\n "]},"metadata":{},"sourceType":"module"}